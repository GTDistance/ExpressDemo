<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- <script src="test.js"></script> -->
    <script src="http://127.0.0.1:5500/test.js"></script>
    <style>
      #result {
        width: 280px;
        height: 100px;
        border: solid 1px #909090;
      }
    </style>
  </head>
  <body>
    <button id="btn">点击发送请求</button>
    <button id="ajaxbtn">ajax请求</button>
    <div id="result"></div>
    <script>
      // const axios = require('axios')
      // import axios from 'axios'
      let x = null
      const btn = document.getElementById('btn')
      const ajaxbtn = document.getElementById('ajaxbtn')
      const result = document.getElementById('result')
      // result.addEventListener('mouseover', function () {
      //   console.log('mouseover')
      //   xhr = new XMLHttpRequest()
      //   xhr.responseType = 'json'
      //   xhr.timeout = 2000
      //   xhr.ontimeout = function () {
      //     alert('请稍后重试')
      //   }
      //   xhr.onerror = function () {
      //     alert('网络异常')
      //   }
      //   xhr.open('post', 'http://127.0.0.1:8000/delay?t=' + Date.now())
      //   xhr.setRequestHeader(
      //     'Content-Type',
      //     'application/x-www-form-urlencoded'
      //   )
      //   xhr.setRequestHeader('name', 'thomas')
      //   xhr.send('a=100&b=200')
      //   xhr.onreadystatechange = function () {
      //     console.log('onreadystatechange', xhr, xhr.readyState, xhr.status)
      //     if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 300) {
      //       result.innerHTML = xhr.response.name
      //     }
      //   }
      // })
      btn.onclick = function () {
        // console.log('btn')
        // const xhr = new XMLHttpRequest()
        // xhr.open('GET','http://127.0.0.1:8000/server?a=100&b=200')
        // xhr.send()
        // xhr.onreadystatechange = function(){
        //   console.log('onreadystatechange',xhr,xhr.readyState,xhr.status)
        //   if(xhr.readyState == 4 && (xhr.status>=200&&xhr.status<=300)){
        //     result.innerHTML = xhr.response
        //   }
        // }
        xhr.abort()
      }
      ajaxbtn.onclick = function(){
        console.info('ajaxbtn')
        // axios.get('http://127.0.0.1:8000/server')
        axios.get('http://open.api.hrwork.bz:9001/docs/content/3')
      }
    </script>
  </body>
</html>
